/* Continuous, subtle animations for the Contact page */
.animated-gradient {
  background-size: 240% 240%;
  animation: gradientShift 18s ease-in-out infinite;
}

.contact-animated-bg {
  position: absolute;
  inset: 0;
  opacity: 0.65;
  pointer-events: none;
  background: radial-gradient(circle at 20% 25%, rgba(79, 70, 229, 0.18), transparent 35%),
              radial-gradient(circle at 80% 15%, rgba(14, 165, 233, 0.22), transparent 35%),
              radial-gradient(circle at 60% 80%, rgba(236, 72, 153, 0.18), transparent 45%),
              linear-gradient(135deg, rgba(248, 250, 255, 0.9), rgba(224, 231, 255, 0.9), rgba(240, 249, 255, 0.9));
  z-index: 1;
}

.global-animated-bg {
  position: fixed;
  inset: 0;
  pointer-events: none;
  z-index: 0;
  opacity: 0.72;
  background:
    radial-gradient(circle at 20% 25%, rgba(79, 70, 229, 0.18), transparent 35%),
    radial-gradient(circle at 80% 15%, rgba(14, 165, 233, 0.22), transparent 35%),
    radial-gradient(circle at 60% 80%, rgba(236, 72, 153, 0.18), transparent 45%),
    radial-gradient(circle at 30% 70%, rgba(14, 165, 233, 0.14), transparent 40%),
    linear-gradient(135deg, rgba(248, 250, 255, 0.9), rgba(224, 231, 255, 0.9), rgba(240, 249, 255, 0.9));
  background-size: 240% 240%;
}

.floating-card {
  animation: floatUpDown 10s ease-in-out infinite;
}

@keyframes gradientShift {
  0% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
  100% { background-position: 0% 50%; }
}

@keyframes floatUpDown {
  0%, 100% { transform: translateY(0); }
  50% { transform: translateY(-8px); }
}

/* Crystal twinkles layer for the Contact page */
.butterfly-layer {
  position: absolute;
  inset: 0;
  pointer-events: none;
  overflow: hidden;
  z-index: 15;
  opacity: 0.9;
}

.flow-lines {
  position: absolute;
  inset: 0;
  pointer-events: none;
  z-index: 4;
  mix-blend-mode: screen;
}

.flow-line {
  position: absolute;
  left: -20%;
  width: 140%;
  height: 3px;
  background: linear-gradient(90deg, transparent, rgba(99, 102, 241, 0.45), rgba(236, 72, 153, 0.42), transparent);
  animation: flowAcross 16s linear infinite;
}

.floating-orbs {
  position: absolute;
  inset: 0;
  pointer-events: none;
  z-index: 3;
  filter: blur(26px);
}

.floating-orb {
  position: absolute;
  border-radius: 9999px;
  animation: orbPulse 14s ease-in-out infinite;
  opacity: 0.75;
}

.butterfly {
  position: absolute;
  left: 0;
  width: 32px;
  height: 32px;
  transform-origin: center;
  filter: drop-shadow(0 8px 14px rgba(255, 255, 255, 0.32)) drop-shadow(0 0 10px rgba(236, 192, 88, 0.4));
  animation: crystalWander var(--drift-duration, 16s) ease-in-out infinite,
             crystalTwinkle var(--twinkle-duration, 3.2s) ease-in-out infinite;
  animation-direction: alternate, alternate;
  animation-delay: 0s, var(--twinkle-delay, 0s);
  animation-fill-mode: both;
  transform: translate3d(0, 0, 0) scale(var(--crystal-scale, 0.9));
  opacity: 0.92;
  mix-blend-mode: screen;
  background-image: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 64 64'><defs><radialGradient id='c' cx='50%' cy='50%' r='50%'><stop offset='0%' stop-color='%23ffe28a'/><stop offset='60%' stop-color='%23ffd166'/><stop offset='100%' stop-color='%23fbbf24'/></radialGradient><linearGradient id='p' x1='0' y1='0' x2='1' y2='1'><stop offset='0%' stop-color='%23ffffff'/><stop offset='50%' stop-color='%23f7f8fb'/><stop offset='100%' stop-color='%23e5ecff'/></linearGradient><filter id='glow' x='-60%' y='-60%' width='220%' height='220%'><feGaussianBlur stdDeviation='1.6' result='b'/><feMerge><feMergeNode in='b'/><feMergeNode in='SourceGraphic'/></feMerge></filter></defs><g filter='url(%23glow)'><circle cx='32' cy='32' r='6' fill='url(%23c)'/><path d='M32 6 C28 10 24 16 26 24 C18 22 12 26 10 30 C8 34 10 42 18 44 C12 48 12 54 14 58 C18 64 28 62 32 56 C36 62 46 64 50 58 C52 54 52 48 46 44 C54 42 56 34 54 30 C52 26 46 22 38 24 C40 16 36 10 32 6 Z' fill='url(%23p)' stroke='%23fefefe' stroke-width='1.2' opacity='0.96'/></g></svg>");
  background-size: contain;
  background-repeat: no-repeat;
}

.butterfly::before {
  content: "";
  position: absolute;
  inset: -8px;
  background:
    radial-gradient(circle at 30% 30%, rgba(255, 255, 255, 0.8), transparent 35%),
    radial-gradient(circle at 70% 70%, rgba(255, 255, 255, 0.6), transparent 45%),
    conic-gradient(from 45deg, rgba(255,255,255,0.45), transparent 20%, rgba(255,255,255,0.35), transparent 60%, rgba(255,255,255,0.2));
  mix-blend-mode: screen;
  opacity: 0.75;
  animation: crystalGlint 4s ease-in-out infinite;
}

.butterfly::after,
.butterfly-body {
  display: none;
}

@keyframes crystalWander {
  0%   { transform: translate3d(0, 0, 0) scale(var(--crystal-scale, 0.9)); }
  22%  { transform: translate3d(var(--wander-x, 10px), calc(var(--wander-y, 8px) * -1), 0) scale(calc(var(--crystal-scale, 0.9) * 1.05)); }
  48%  { transform: translate3d(calc(var(--wander-x, 10px) * -1), var(--wander-y, 8px), 0) scale(var(--crystal-scale, 0.9)); }
  74%  { transform: translate3d(calc(var(--wander-y, 8px) * 0.6), calc(var(--wander-x, 10px) * -0.6), 0) scale(calc(var(--crystal-scale, 0.9) * 1.04)); }
  100% { transform: translate3d(0, 0, 0) scale(var(--crystal-scale, 0.9)); }
}

@keyframes crystalTwinkle {
  0%   { opacity: 0.12; }
  25%  { opacity: 0.9; }
  55%  { opacity: 0.35; }
  80%  { opacity: 0.7; }
  100% { opacity: 0.12; }
}

@keyframes crystalGlint {
  0%   { opacity: 0.2; transform: rotate(0deg) scale(1); }
  30%  { opacity: 0.8; transform: rotate(12deg) scale(1.05); }
  60%  { opacity: 0.4; transform: rotate(-10deg) scale(1.02); }
  100% { opacity: 0.2; transform: rotate(0deg) scale(1); }
}

.card-enter {
  opacity: 0;
  animation: cardRise 0.9s ease forwards;
}

@keyframes flowAcross {
  0% { transform: translateX(-10%); }
  100% { transform: translateX(20%); }
}

@keyframes orbPulse {
  0% { transform: translateY(0px) scale(1); opacity: 0.65; }
  50% { transform: translateY(-18px) scale(1.08); opacity: 0.85; }
  100% { transform: translateY(0px) scale(1); opacity: 0.65; }
}

@keyframes cardRise {
  0% { transform: translateY(12px) scale(0.98); opacity: 0; }
  100% { transform: translateY(0px) scale(1); opacity: 1; }
}

@media (prefers-reduced-motion: reduce) {
  .butterfly-layer {
    display: none;
  }
  .flow-lines,
  .floating-orbs,
  .floating-card,
  .card-enter {
    animation: none !important;
    opacity: 1;
    transform: none;
  }
}
